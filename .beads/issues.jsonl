{"id":"hal-9000-0h4","title":"Phase 1: Synchronize UID documentation","description":"Documentation Alignment\n\nFiles to check:\n- plugins/hal-9000/lib/container-common.sh (L164, L284)\n- plugins/hal-9000/docker/Dockerfile.worker\n- README-HAL9000.md\n- SECURITY.md\n- plugins/hal-9000/docs/dind/CONFIGURATION.md\n\nCurrent Problem:\n- container-common.sh comments say UID 1000 (claude user)\n- Some docs may say UID 1001\n- Need to check Dockerfile.worker for the source of truth\n\nFix:\n1. Check Dockerfile.worker for actual UID used\n2. Update all references to match the actual UID\n3. Ensure claude user UID is consistent everywhere\n\nSuccess Criteria:\n- All docs reference same UID\n- grep -r 'UID 100' returns consistent results\n\nEffort: 1 hour","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:04.551161-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:35:13.497461-08:00","closed_at":"2026-01-31T04:35:13.497461-08:00","close_reason":"Already complete - all UID references consistent at 1001. container-common.sh L164 and L284 both correctly state UID 1001. Dockerfile.worker uses UID 1001. All documentation consistent."}
{"id":"hal-9000-0pr","title":"Performance Baseline \u0026 Benchmarks","description":"Establish baseline metrics for startup time, memory usage. Create benchmark suite for regression detection. Acceptance: Baseline documented, benchmark script functional.","status":"open","priority":3,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:24.299486-08:00","created_by":"Hellblazer","updated_at":"2026-01-27T17:26:24.299486-08:00","dependencies":[{"issue_id":"hal-9000-0pr","depends_on_id":"hal-9000-gph","type":"blocks","created_at":"2026-01-27T17:26:38.871423-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-15m","title":"HAL-9000 Comprehensive Testing Suite","description":"Complete testing infrastructure for hal-9000 CLI command covering all 15 test categories with 100+ test cases. Includes unit tests, integration tests, Docker tests, error handling, performance benchmarks, and end-to-end scenarios. Reference: tests/HAL9000_TEST_PLAN.md","status":"open","priority":1,"issue_type":"epic","owner":"hellblazer@me.com","created_at":"2026-01-27T17:25:50.308531-08:00","created_by":"Hellblazer","updated_at":"2026-01-27T17:25:50.308531-08:00"}
{"id":"hal-9000-17s","title":"Test Category 7: Docker Integration","description":"Implement 26 tests for container lifecycle, volume management, state persistence, DinD, and socket handling. Reference: section 7. Tests DOCK-001 to DOCK-026. Requires Docker daemon.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.758876-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T06:58:38.484916-08:00","closed_at":"2026-01-31T06:58:38.484916-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-17s","depends_on_id":"hal-9000-73r","type":"blocks","created_at":"2026-01-27T17:26:37.835831-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-1fy","title":"Test Category 5: Command-Line Arguments","description":"Implement 20 tests for argument parsing, flags, options, and combinations. Reference: section 5. Tests ARG-001 to ARG-020. Covers directories, flags, precedence, invalid input.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.490612-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:55:13.915538-08:00","closed_at":"2026-01-31T05:55:13.915538-08:00","close_reason":"Closed"}
{"id":"hal-9000-1ps","title":"Address host network mode in container scripts","description":"aod.sh:347 and hal9000.sh:264 use --network host, bypassing network isolation. Containers can bind to any host port. Options: (1) Use bridge network with explicit port mapping, (2) Use container networking --network=container:parent, (3) Create custom bridge network. Requires design decision and testing to ensure MCP servers still communicate.","status":"closed","priority":0,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:21.197022-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:43:17.530205-08:00","closed_at":"2026-01-30T14:43:17.530205-08:00","close_reason":"Closed"}
{"id":"hal-9000-1qo","title":"Test Category 9: Claude Passthrough","description":"Implement 15 tests for plugin management, MCP servers, slash commands, and system commands. Reference: section 9. Tests PASS-001 to PASS-015.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.028017-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T07:23:45.037548-08:00","closed_at":"2026-01-31T07:23:45.037548-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-1qo","depends_on_id":"hal-9000-luf","type":"blocks","created_at":"2026-01-27T17:26:38.098966-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-1t6","title":"Implement audit logging for parent container","description":"parent-entrypoint.sh and coordinator.sh have minimal logging. Cannot detect/investigate security incidents. Log all worker spawn/stop events with timestamp, user, action, container name. Implement log rotation to prevent disk fill.","status":"closed","priority":2,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:47.783302-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:04:11.622173-08:00","closed_at":"2026-01-31T05:04:11.622173-08:00","close_reason":"Closed"}
{"id":"hal-9000-3fj","title":"Phase 0: Fix command injection in coordinator.sh","description":"SECURITY CRITICAL\n\nFiles: plugins/hal-9000/docker/coordinator.sh\n\nCurrent Problem:\n- stop_worker(), view_worker_logs(), attach_to_worker() use $worker_name directly in shell commands\n- Attacker could inject: '../evil', '$(whoami)', 'name; rm -rf'\n\nFix:\n1. Add validate_worker_name() function at top of coordinator.sh\n2. Function validates: ^[a-zA-Z0-9_-]+$ pattern only\n3. Rejects: path traversal (..), command substitution ($(), ``), shell metacharacters\n4. Call validate_worker_name at entry of each function that uses worker_name\n\nSuccess Criteria:\n- Function exists and rejects all attack patterns\n- Unit tests in scripts/tests/test-coordinator-validation.sh\n\nEffort: 1 hour","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:31:41.892678-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T03:38:44.737889-08:00","closed_at":"2026-01-31T03:38:44.737889-08:00","close_reason":"Command injection validation function verified and tested"}
{"id":"hal-9000-4hv","title":"Test Category 11: Installation \u0026 Distribution","description":"Implement 12 tests for install script, version consistency, and marketplace integration. Reference: section 11. Tests INST-001 to INST-012.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.334066-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T07:30:00.899034-08:00","closed_at":"2026-01-31T07:30:00.899034-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-4hv","depends_on_id":"hal-9000-t7b","type":"blocks","created_at":"2026-01-27T17:26:44.639548-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-4hv","depends_on_id":"hal-9000-ddl","type":"blocks","created_at":"2026-01-27T17:26:44.699927-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-4ri","title":"Phase 2: Add config validation warnings","description":"Configuration Improvement\n\nFiles:\n- hal-9000 script (config parsing section)\n- plugins/hal-9000/lib/container-common.sh\n\nCurrent Problem:\n- Unknown config variables are silently ignored\n- Users don't know if they've made a typo in config\n\nFix:\n1. Log warning for unknown config variables\n2. Message format: 'Warning: Unknown config variable X - ignoring'\n3. Continue processing (don't fail)\n4. List known variables in --help or config reference\n\nSuccess Criteria:\n- Warning logged to stderr for unknown variables\n- Known variables still processed correctly\n- Test with config containing unknown variable\n\nEffort: 30 minutes","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:21.057632-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:38:36.438256-08:00","closed_at":"2026-01-31T04:38:36.438256-08:00","close_reason":"Already implemented - hal-9000 script lines 97-100 warn on unknown config variables, output to stderr via warn() function. Known variable documented in comment (line 99) and help text. Tested in test-security-fixes.sh."}
{"id":"hal-9000-4vx","title":"Remove /tmp and /var/tmp from path allowlist","description":"spawn-worker.sh line 250 includes /tmp and /var/tmp in allowed_prefixes. These are risky directories that may contain sensitive temp files. Remove from allowlist. If /workspace needs to be under a standard path, add it explicitly.","status":"closed","priority":1,"issue_type":"bug","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:35.917874-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:44:44.303811-08:00","closed_at":"2026-01-30T14:44:44.303811-08:00","close_reason":"Closed"}
{"id":"hal-9000-4we","title":"Standardize credential warnings across scripts","description":"spawn-worker.sh warns about ANTHROPIC_API_KEY visibility in docker inspect (lines 325-336). aod.sh and hal9000.sh pass API keys without warnings. Add consistent warnings suggesting credential files over env vars in all scripts.","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:36.163882-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:36:49.127323-08:00","closed_at":"2026-01-30T17:36:49.127323-08:00","close_reason":"Closed"}
{"id":"hal-9000-4xj","title":"Phase 4: Implement metadata cleanup routine","description":"Maintenance Feature\n\nFiles:\n- plugins/hal-9000/docker/coordinator.sh\n- plugins/hal-9000/hal9000/hal9000-cleanup.sh\n\nCurrent Problem:\n- Stale session files accumulate over time\n- TMUX sockets may be orphaned if container dies unexpectedly\n\nFix:\n1. Add cleanup_stale_metadata() to coordinator.sh:\n   - Run every 5 minutes in coordinator loop\n   - For each session file in /data/coordinator-state/\n   - Check if corresponding container exists\n   - Remove files for non-existent containers\n   - Log cleanup actions\n\n2. Add socket cleanup:\n   - Remove orphaned TMUX sockets\n   - Socket is orphaned if no corresponding container\n\n3. Add manual cleanup command:\n   - coordinator.sh cleanup (or cleanup subcommand)\n\nSuccess Criteria:\n- Stale files cleaned up automatically\n- Cleanup logged for auditing\n- Manual cleanup command available\n\nEffort: 1.5 hours","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:57.505292-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:53:44.21143-08:00","closed_at":"2026-01-31T04:53:44.21143-08:00","close_reason":"Already implemented - coordinator.sh has cleanup_stale_metadata() at line 188, cleanup_session_metadata() at line 165, and manual commands (cleanup-stale, cleanup-metadata, cleanup-all-metadata). Removes stale files \u003e7 days, logs cleanup actions. Coordinator is CLI tool not daemon, so periodic execution not applicable - manual cleanup sufficient."}
{"id":"hal-9000-5dz","title":"Add ChromaDB authentication","description":"ChromaDB in parent container has no authentication. Any process can access ChromaDB data. Implement server-side authentication, update workers to pass credentials, document setup process. Breaking change - needs migration guide.","status":"in_progress","priority":2,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:47.52432-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:28:07.31567-08:00"}
{"id":"hal-9000-5l5","title":"Phase 4: Create network isolation tests","description":"Testing Infrastructure\n\nFiles:\n- scripts/tests/test-network-isolation.sh (NEW)\n- .github/workflows/integration-test.yml (add to test suite)\n\nCurrent Problem:\n- Network isolation claims in docs are not validated by tests\n- No automated verification workers are isolated\n\nFix:\n1. Create test-network-isolation.sh:\n   a. Start parent container\n   b. Start 2 worker containers\n   c. Test: workers cannot ping each other\n   d. Test: workers can reach parent (ChromaDB)\n   e. Test: workers have independent network namespaces\n\n2. Add to CI test suite (Phase 4 or separate job)\n\nSuccess Criteria:\n- Test script exists and runs\n- All isolation assertions pass\n- Added to CI workflow\n\nEffort: 3 hours\n\nDependencies: hal-9000-fy4 (socket permissions should use fixed code)","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:52.352823-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:52:51.967545-08:00","closed_at":"2026-01-31T04:52:51.967545-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-5l5","depends_on_id":"hal-9000-fy4","type":"blocks","created_at":"2026-01-30T23:33:19.573855-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-6h5","title":"Phase 1: Document TMUX architecture decision","description":"Documentation Enhancement\n\nFiles:\n- plugins/hal-9000/docs/TMUX_ARCHITECTURE.md\n\nCurrent State:\n- TMUX_ARCHITECTURE.md exists but may lack 'Why TMUX?' rationale\n\nFix:\nAdd 'Why TMUX?' section covering:\n1. Alternatives considered: GNU Screen, direct Docker exec, custom daemon\n2. TMUX advantages: mature, socket-based IPC, session persistence, scripting\n3. Trade-offs: additional dependency, complexity vs reliability\n4. Decision rationale: best balance of features and reliability\n\nSuccess Criteria:\n- 'Why TMUX?' section exists\n- Compares at least 3 alternatives\n- Documents trade-offs and decision rationale\n\nEffort: 1 hour","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:09.018685-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:37:05.763948-08:00","closed_at":"2026-01-31T04:37:05.763948-08:00","close_reason":"Closed"}
{"id":"hal-9000-73r","title":"Test Category 3: Profile Detection","description":"Implement 20 tests for auto-detection of Java, Python, Node, Base profiles with explicit overrides. Reference: section 3. Tests PROF-001 to PROF-020. Covers file detection, precedence, edge cases, symlinks.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.220799-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:43:40.886451-08:00","closed_at":"2026-01-31T05:43:40.886451-08:00","close_reason":"Closed"}
{"id":"hal-9000-77m","title":"Test Category 12: Configuration \u0026 State Files","description":"Implement 17 tests for file system structure, session metadata, Docker labels, and cleanup. Reference: section 12. Tests CONF-001 to CONF-017.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.479412-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T06:17:43.937552-08:00","closed_at":"2026-01-31T06:17:43.937552-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-77m","depends_on_id":"hal-9000-73r","type":"blocks","created_at":"2026-01-27T17:26:44.835416-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-77m","depends_on_id":"hal-9000-luf","type":"blocks","created_at":"2026-01-27T17:26:44.895686-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-7do","title":"Add image validation to aod.sh","description":"aod.sh lacks image validation unlike spawn-worker.sh. Lines 314-322 select image without allowlist check. This allows arbitrary image execution. Fix: Add ALLOWED_IMAGES array and validate_image() function similar to spawn-worker.sh pattern.","status":"closed","priority":0,"issue_type":"bug","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:21.066756-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:46:51.561157-08:00","closed_at":"2026-01-30T14:46:51.561157-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-7do","depends_on_id":"hal-9000-cx5","type":"blocks","created_at":"2026-01-30T09:18:56.121045-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-7eq","title":"Test Category 14: Regression Test Suite","description":"Create reusable regression test templates for manually discovered bugs. Reference: section 14. Populates as issues found during manual testing.","status":"in_progress","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.761972-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T07:32:36.059029-08:00"}
{"id":"hal-9000-8j7","title":"Fix container user mismatch in hal9000.sh","description":"hal9000.sh line 266 mounts to /root/.claude but Dockerfile.worker runs as USER claude with home at /home/claude. This causes permission issues or potential root execution. Fix: Change mount path to /home/claude/.claude to match container user.","status":"closed","priority":0,"issue_type":"bug","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:20.940727-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:43:17.528496-08:00","closed_at":"2026-01-30T14:43:17.528496-08:00","close_reason":"Closed"}
{"id":"hal-9000-8t5","title":"Build Test Automation Scripts","description":"Create modular bash test scripts for each category. Reference: Makefile test targets. Scripts in scripts/tests/. Acceptance: test-*.sh scripts exist and are executable.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.897805-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T06:26:11.287757-08:00","closed_at":"2026-01-31T06:26:11.287757-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-8t5","depends_on_id":"hal-9000-t7b","type":"blocks","created_at":"2026-01-27T17:26:45.060172-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-8t5","depends_on_id":"hal-9000-ddl","type":"blocks","created_at":"2026-01-27T17:26:45.122259-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-8t5","depends_on_id":"hal-9000-73r","type":"blocks","created_at":"2026-01-27T17:26:45.184653-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-8t5","depends_on_id":"hal-9000-1fy","type":"blocks","created_at":"2026-01-27T17:26:45.24428-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-8t5","depends_on_id":"hal-9000-9ax","type":"blocks","created_at":"2026-01-27T17:26:45.303387-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-9ax","title":"Test Category 6: Environment Variables","description":"Implement 13 tests for environment variable handling, precedence, overrides, and validation. Reference: section 6. Tests ENV-001 to ENV-013. Covers CLAUDE_HOME, API_KEY, precedence.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.626248-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:57:05.604303-08:00","closed_at":"2026-01-31T05:57:05.604303-08:00","close_reason":"Closed"}
{"id":"hal-9000-bd5","title":"Test Category 8: Daemon \u0026 Pool Management","description":"Implement 24 tests for daemon lifecycle, ChromaDB health, worker pool scaling, and performance. Reference: section 8. Tests DAEM-001 to DAEM-010, POOL-001 to POOL-011. Requires orchestrator.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.893596-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T07:04:57.553154-08:00","closed_at":"2026-01-31T07:04:57.553154-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-bd5","depends_on_id":"hal-9000-17s","type":"blocks","created_at":"2026-01-27T17:26:37.969796-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-cqz","title":"Phase 3: Implement ChromaDB reconnection logic","description":"Resilience Improvement\n\nFiles:\n- plugins/hal-9000/docker/worker-entrypoint.sh\n\nCurrent Problem:\n- Worker fails immediately if ChromaDB is temporarily unavailable\n- No recovery from network blips\n\nFix:\n1. Add wait_for_chromadb() with retry logic:\n   - Use health check endpoint: /api/v2/heartbeat\n   - Retry up to 30 seconds (configurable)\n   - Log connection attempts\n\n2. Add background health monitoring:\n   - Check ChromaDB every 30s\n   - Log warning on failure\n   - Don't crash worker, but warn user\n\n3. Configure MCP server to handle disconnection:\n   - Set reconnection options if available\n   - Document expected behavior\n\nSuccess Criteria:\n- Worker waits for ChromaDB on startup\n- Temporary network issues don't crash worker\n- Clear logging of connection status\n\nEffort: 1.5 hours\n\nDependencies: hal-9000-dq6 (ChromaDB DNS + health checks)","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:40.077506-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:51:29.422327-08:00","closed_at":"2026-01-31T04:51:29.422327-08:00","close_reason":"Already implemented - verify_chromadb_connectivity() at line 277 provides retry logic (3 attempts, exponential backoff), health check endpoint (/api/v2/heartbeat), non-fatal failure, and clear logging. chroma-mcp handles automatic reconnection. Background monitoring deemed unnecessary given MCP auto-reconnection capability.","dependencies":[{"issue_id":"hal-9000-cqz","depends_on_id":"hal-9000-dq6","type":"blocks","created_at":"2026-01-30T23:33:19.516943-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-cx5","title":"Establish mutable image tag policy","description":"spawn-worker.sh ALLOWED_IMAGES contains both mutable tags (:worker, :base) and versioned tags (:worker-v3.0.0). Mutable tags are supply chain risk. Decision needed: (1) Versioned tags only (more secure, less convenient), (2) Allow mutable with deprecation warning, (3) Digest-based validation. Document policy, update allowlists, update CI/CD.","status":"closed","priority":0,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:21.328318-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:46:08.645212-08:00","closed_at":"2026-01-30T14:46:08.645212-08:00","close_reason":"Closed"}
{"id":"hal-9000-ddl","title":"Test Category 2: Setup \u0026 Authentication","description":"Implement 16 tests for API key setup, validation, subscription login, and auth modes. Reference: section 2. Covers API key initialization, validation, persistence, and alternate auth. Acceptance: Tests AUTH-001 through AUTH-016 pass","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.088117-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:32:23.030645-08:00","closed_at":"2026-01-31T05:32:23.030645-08:00","close_reason":"Closed"}
{"id":"hal-9000-dhw","title":"Fix TOCTOU vulnerability in spawn-worker.sh","description":"spawn-worker.sh line 272 uses PROJECT_DIR instead of validated canonical_path in docker mount. This creates a time-of-check to time-of-use vulnerability where an attacker could swap paths between validation and use. Fix: Use canonical_path variable in the docker -v mount argument.","status":"closed","priority":0,"issue_type":"bug","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:20.812158-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:43:17.524603-08:00","closed_at":"2026-01-30T14:43:17.524603-08:00","close_reason":"Closed"}
{"id":"hal-9000-dii","title":"Add resource limits to container-common.sh","description":"container-common.sh init_docker_args() lacks resource limits. Add configurable resource limits to shared function for consistency across all container scripts. Include documentation in function comments.","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:35.793398-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:36:58.106151-08:00","closed_at":"2026-01-30T17:36:58.106151-08:00","close_reason":"Closed"}
{"id":"hal-9000-dme","title":"HAL-9000 Substantive Critique Remediation - 15 Issues","description":"Address all 15 issues identified in the substantive critique of HAL-9000:\n\nPHASE 0 - Security (Critical):\n1. Command injection in coordinator.sh\n2. TMUX socket permissions (0777)\n\nPHASE 1 - Documentation:\n4. Session persistence misrepresented\n8. UID documentation out of sync\n11. Document TMUX architecture decision\n\nPHASE 2 - Infrastructure:\n5. ChromaDB connectivity fragility\n6/14. Config parsing fails open / Add config validation warnings\n10. Resource limits missing on parent\n\nPHASE 3 - Resilience:\n9. Error handling lacks resilience\n15. Add ChromaDB reconnection logic\n\nPHASE 4 - Testing:\n3. Phase 2 tests skipped in CI\n7. Network isolation claims unvalidated\n12. Add metadata cleanup\n13. Add startup benchmarks\n\nTotal effort: ~24-27 hours\nTimeline: 5-7 days with parallelization","status":"closed","priority":1,"issue_type":"epic","owner":"hellblazer@me.com","created_at":"2026-01-30T23:31:14.949361-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:54:45.505174-08:00","closed_at":"2026-01-31T04:54:45.505174-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-3fj","type":"blocks","created_at":"2026-01-30T23:33:31.503641-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-fy4","type":"blocks","created_at":"2026-01-30T23:33:31.562277-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-nwo","type":"blocks","created_at":"2026-01-30T23:33:43.146847-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-0h4","type":"blocks","created_at":"2026-01-30T23:33:43.206763-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-6h5","type":"blocks","created_at":"2026-01-30T23:33:43.266232-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-dq6","type":"blocks","created_at":"2026-01-30T23:33:43.32664-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-4ri","type":"blocks","created_at":"2026-01-30T23:33:43.385243-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-ope","type":"blocks","created_at":"2026-01-30T23:33:43.445487-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-lms","type":"blocks","created_at":"2026-01-30T23:33:43.501387-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-cqz","type":"blocks","created_at":"2026-01-30T23:33:43.557346-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-v7z","type":"blocks","created_at":"2026-01-30T23:33:43.612066-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-5l5","type":"blocks","created_at":"2026-01-30T23:33:43.671785-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-4xj","type":"blocks","created_at":"2026-01-30T23:33:43.732377-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dme","depends_on_id":"hal-9000-o5y","type":"blocks","created_at":"2026-01-30T23:33:43.793979-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-dot","title":"Pin base image digests in Dockerfiles","description":"All Dockerfiles use tag-based references (e.g., debian:bookworm-slim). Base image changes could introduce vulnerabilities. Update FROM statements to use digest pinning (sha256:xxx). Validate digest before build.","status":"closed","priority":2,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:47.917837-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:11:45.250569-08:00","closed_at":"2026-01-31T05:11:45.250569-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-dot","depends_on_id":"hal-9000-cx5","type":"blocks","created_at":"2026-01-30T09:18:56.372683-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-dq6","title":"Phase 2: Implement ChromaDB DNS + health checks","description":"Infrastructure Improvement\n\nFiles:\n- plugins/hal-9000/docker/worker-entrypoint.sh (L44-50)\n- plugins/hal-9000/docker/spawn-worker.sh\n\nCurrent Problem:\n- Workers use PARENT_IP for ChromaDB connection\n- IP-based connections are fragile (network changes, restarts)\n- No health check before Claude starts\n\nFix:\n1. Use DNS name (hal9000-parent) instead of PARENT_IP as primary\n2. Add health check: curl chromadb:8000/api/v2/heartbeat\n3. Keep CHROMADB_HOST env var as override\n4. Add error message if ChromaDB unreachable\n5. Configure Docker network with DNS enabled\n\nSuccess Criteria:\n- Workers resolve hal9000-parent by DNS\n- Health check runs before Claude starts\n- Clear error if ChromaDB unavailable\n- CHROMADB_HOST still works as fallback\n\nEffort: 2 hours","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:17.084367-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T03:44:49.900523-08:00","closed_at":"2026-01-31T03:44:49.900523-08:00","close_reason":"ChromaDB DNS-based service discovery and health checks fully implemented: PARENT_HOSTNAME used for Docker DNS resolution with fallback to PARENT_IP; health checks via /api/v2/heartbeat in parent (wait_for_chromadb) and worker (verify_chromadb_connectivity with exponential backoff); comprehensive error handling and logging.","dependencies":[{"issue_id":"hal-9000-dq6","depends_on_id":"hal-9000-3fj","type":"blocks","created_at":"2026-01-30T23:33:19.340601-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-dq6","depends_on_id":"hal-9000-fy4","type":"blocks","created_at":"2026-01-30T23:33:19.400417-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t","title":"DinD Claude Orchestration Architecture v1.0","description":"Transform claudy from single-container-per-session to Docker-in-Docker \nparent/worker architecture.\n\n## Key Metrics\n| Metric | Current (v0.5.0) | Target (v1.0.0) | Improvement |\n|--------|------------------|-----------------|-------------|\n| Container image size | 2.82 GB | 200-300 MB | 90% reduction |\n| Cold start time | 8-15 seconds | 2 seconds | 75% faster |\n| Memory per session | 4 GB (isolated) | 2 GB (shared) | 50% reduction |\n| ChromaDB sharing | None (isolated) | Full (shared) | Enabled |\n| MCP server instances | N (per session) | 1 (shared) | N-1 reduction |\n\n## Architecture\n- Parent container: Hosts MCP servers, ChromaDB, Memory Bank\n- Worker containers: Lightweight Claude CLI sessions\n- tmux orchestration for multi-session management\n- Shared volumes for data persistence\n\n## Phases\n1. Parent Container Foundation (2 weeks)\n2. Worker Container Design (2 weeks)  \n3. tmux Orchestration (2 weeks)\n4. Shared Infrastructure (2 weeks)\n5. Integration and Migration (2 weeks)\n6. Optimization and Polish (2 weeks)\n\nTotal: 12 weeks\n\nContext: .pm/plans/dind-orchestration-plan.md\n","status":"closed","priority":1,"issue_type":"epic","owner":"hellblazer@me.com","created_at":"2026-01-25T18:13:29.373995-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T05:47:44.226679-08:00","closed_at":"2026-01-26T05:47:44.226679-08:00","close_reason":"DinD Claude Orchestration Architecture v1.0 complete: 7 phases implemented (P0 validation spikes, P1 parent container, P2 worker container, P3 tmux orchestration, P4 shared infrastructure, P5 integration/migration, P6 optimization/polish). All 29 tests pass, comprehensive documentation, benchmarking suite in place."}
{"id":"hal-9000-f6t.1","title":"Phase 1: Parent Container Foundation","description":"Create the orchestrator container with MCP server infrastructure.\n\n## Duration: 2 weeks\n\n## Deliverables\n1. Dockerfile.parent - Parent container image\n2. parent-entrypoint.sh - Startup and initialization script\n3. mcp-servers.conf - MCP server configuration for HTTP/SSE mode\n4. Volume creation scripts\n\n## Success Criteria\n- [ ] Parent container builds successfully (target: \u003c500MB)\n- [ ] MCP servers start and respond to HTTP health checks\n- [ ] tmux server initializes with dashboard window\n- [ ] Volumes persist data across container restarts\n- [ ] Docker socket accessible from inside parent\n\n## Tasks (P1-1 through P1-7)\n- P1-1: Create Dockerfile.parent (4h)\n- P1-2: Implement parent-entrypoint.sh (4h)\n- P1-3: Configure MCP servers for HTTP/SSE mode (8h)\n- P1-4: Create volume initialization scripts (2h)\n- P1-5: Create tmux dashboard configuration (4h)\n- P1-6: Integration testing (8h)\n- P1-7: Documentation (4h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-1-parent-container-foundation\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:13:43.990424-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:28:05.21972-08:00","closed_at":"2026-01-25T19:28:05.21972-08:00","close_reason":"Phase 1 complete: Parent container foundation with coordinator, workers, and integration tests","dependencies":[{"issue_id":"hal-9000-f6t.1","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:13:43.991196-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1","depends_on_id":"hal-9000-f6t.7","type":"blocks","created_at":"2026-01-25T18:52:26.457053-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.1","title":"P1-1: Create Dockerfile.parent","description":"Create the parent container Dockerfile with: Core system dependencies (curl, git, tmux, docker.io, python3), Node.js 20 LTS for MCP servers, uv for Python packages, MCP server global installs, Locale and terminal support","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:38:28.406778-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:19:25.160718-08:00","closed_at":"2026-01-25T19:19:25.160718-08:00","close_reason":"Complete: Dockerfile.parent created, builds successfully at 485MB (under 500MB target)","dependencies":[{"issue_id":"hal-9000-f6t.1.1","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:28.407371-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.2","title":"P1-2: Implement parent-entrypoint.sh","description":"Parent startup script: Initialize volumes if empty, Start MCP servers in background (HTTP/SSE mode), Wait for health checks, Start tmux server with dashboard, Signal handling for graceful shutdown","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:38:28.551976-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:19:25.39038-08:00","closed_at":"2026-01-25T19:19:25.39038-08:00","close_reason":"Complete: parent-entrypoint.sh, spawn-worker.sh, coordinator.sh created","dependencies":[{"issue_id":"hal-9000-f6t.1.2","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:28.552763-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.2","depends_on_id":"hal-9000-f6t.1.1","type":"blocks","created_at":"2026-01-25T18:40:29.723992-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.3","title":"P1-3: Configure MCP servers for HTTP/SSE mode","description":"Research and implement HTTP/SSE transport for MCP servers. Options: Check if memory-bank-mcp, sequential-thinking, chroma-mcp support HTTP mode natively. If not: Fork and add HTTP transport, or Create HTTP-to-stdio proxy, or Use socat for port-to-stdio bridging","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:38:28.696818-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:17:01.167235-08:00","closed_at":"2026-01-25T19:17:01.167235-08:00","close_reason":"Not needed: P0-1 found MCP servers must run on host with stdio. No HTTP configuration required.","dependencies":[{"issue_id":"hal-9000-f6t.1.3","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:28.697447-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.3","depends_on_id":"hal-9000-f6t.1.2","type":"blocks","created_at":"2026-01-25T18:40:29.770426-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.4","title":"P1-4: Create volume initialization scripts","description":"Create scripts for: ChromaDB volume initialization (hal9000-chromadb), Memory Bank volume initialization (hal9000-memory-bank), Marketplace volume (hal9000-marketplace), Config volume (hal9000-config)","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":120,"created_at":"2026-01-25T18:38:28.844539-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:21:04.551433-08:00","closed_at":"2026-01-25T19:21:04.551433-08:00","close_reason":"Complete: init-volumes.sh created with directory structure and Docker volumes","dependencies":[{"issue_id":"hal-9000-f6t.1.4","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:28.845277-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.4","depends_on_id":"hal-9000-f6t.1.1","type":"blocks","created_at":"2026-01-25T18:40:29.815194-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.5","title":"P1-5: Create tmux dashboard configuration","description":"Configure tmux for HAL-9000 orchestrator: History limit 50000, Mouse enabled, Status bar with worker count, Window auto-rename, Key bindings for worker management (Ctrl-N spawn, Ctrl-L list, Ctrl-D destroy)","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:38:28.990649-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:21:04.615488-08:00","closed_at":"2026-01-25T19:21:04.615488-08:00","close_reason":"Complete: tmux-dashboard.conf and setup-dashboard.sh created","dependencies":[{"issue_id":"hal-9000-f6t.1.5","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:28.991228-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.5","depends_on_id":"hal-9000-f6t.1.2","type":"blocks","created_at":"2026-01-25T18:40:29.859364-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.6","title":"P1-6: Phase 1 Integration Testing","description":"Integration tests: Parent container builds and runs, All MCP servers respond to health checks, tmux session initializes correctly, Volumes persist across restarts, Docker socket accessible inside parent","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:38:29.126838-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:27:19.54318-08:00","closed_at":"2026-01-25T19:27:19.54318-08:00","close_reason":"Complete: All 10 integration tests passing. Parent: 264MB, Worker: 469MB","dependencies":[{"issue_id":"hal-9000-f6t.1.6","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:29.127543-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.6","depends_on_id":"hal-9000-f6t.1.3","type":"blocks","created_at":"2026-01-25T18:40:29.905857-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.6","depends_on_id":"hal-9000-f6t.1.4","type":"blocks","created_at":"2026-01-25T18:40:29.952259-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.6","depends_on_id":"hal-9000-f6t.1.5","type":"blocks","created_at":"2026-01-25T18:40:29.996577-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.1.7","title":"P1-7: Phase 1 Documentation","description":"Document: Parent container architecture, MCP server configuration, Volume layout, tmux usage guide, Build instructions","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:38:29.263234-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:28:05.139877-08:00","closed_at":"2026-01-25T19:28:05.139877-08:00","close_reason":"Complete: README-dind.md documentation created","dependencies":[{"issue_id":"hal-9000-f6t.1.7","depends_on_id":"hal-9000-f6t.1","type":"parent-child","created_at":"2026-01-25T18:38:29.263946-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.1.7","depends_on_id":"hal-9000-f6t.1.6","type":"blocks","created_at":"2026-01-25T18:40:30.040751-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2","title":"Phase 2: Worker Container Design","description":"Create minimal worker container that connects to parent's infrastructure.\n\n## Duration: 2 weeks\n## Blocks: Phase 1\n\n## Deliverables\n1. Dockerfile.worker - Minimal worker image\n2. worker-entrypoint.sh - Worker initialization\n3. worker-claude.json - Claude configuration for network MCP\n4. Worker lifecycle management scripts\n\n## Success Criteria\n- [ ] Worker image size \u003c 300MB\n- [ ] Worker spawns in \u003c 2 seconds\n- [ ] Worker connects to parent's MCP servers via localhost\n- [ ] ChromaDB data visible from worker\n- [ ] Claude CLI runs successfully in worker\n\n## Tasks (P2-1 through P2-7)\n- P2-1: Create Dockerfile.worker (4h)\n- P2-2: Implement worker-entrypoint.sh (4h)\n- P2-3: Create network MCP configuration (4h)\n- P2-4: Implement spawn-worker.sh (4h)\n- P2-5: Implement destroy-worker.sh (2h)\n- P2-6: Test MCP connectivity (8h)\n- P2-7: Integration testing with parent (8h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-2-worker-container-design\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:13:56.173634-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:39:22.976087-08:00","closed_at":"2026-01-25T19:39:22.976087-08:00","close_reason":"Phase 2 complete: Worker container design validated with 11/11 integration tests passing","dependencies":[{"issue_id":"hal-9000-f6t.2","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:13:56.174354-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2","depends_on_id":"hal-9000-f6t.1","type":"blocks","created_at":"2026-01-25T18:38:08.281485-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.1","title":"P2-1: Create Dockerfile.worker","description":"Minimal worker Dockerfile: debian:bookworm-slim, Only curl/git/ca-certificates, Claude Code native binary, Non-root user (UID 1000), CLAUDE_CONFIG_DIR environment","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:41:34.290616-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:31:28.232253-08:00","closed_at":"2026-01-25T19:31:28.232253-08:00","close_reason":"Already complete: Dockerfile.worker-ultramin (469MB) and Dockerfile.worker-minimal (588MB) created in P0-4","dependencies":[{"issue_id":"hal-9000-f6t.2.1","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.291217-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.2","title":"P2-2: Implement worker-entrypoint.sh","description":"Worker startup: UID/GID remapping if needed, Wait for parent MCP servers, Set up Claude config directory, Launch Claude or sleep for warm pool","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:41:34.352489-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:33:09.905468-08:00","closed_at":"2026-01-25T19:33:09.905468-08:00","close_reason":"Complete: worker-entrypoint.sh created with Claude home init, MCP config, and workspace setup","dependencies":[{"issue_id":"hal-9000-f6t.2.2","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.35321-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.2","depends_on_id":"hal-9000-f6t.2.1","type":"blocks","created_at":"2026-01-25T18:43:04.118787-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.3","title":"P2-3: Create network MCP configuration","description":"Worker .claude.json with SSE transport: memory-bank at localhost:3001/sse, sequential-thinking at localhost:3002/sse, chromadb at localhost:3003/sse","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:41:34.415964-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:33:10.224179-08:00","closed_at":"2026-01-25T19:33:10.224179-08:00","close_reason":"Complete: MCP-CONFIGURATION.md documents MCP architecture (MCP on host, mount ~/.claude for worker access)","dependencies":[{"issue_id":"hal-9000-f6t.2.3","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.416538-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.3","depends_on_id":"hal-9000-f6t.1.3","type":"blocks","created_at":"2026-01-25T18:43:04.167004-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.4","title":"P2-4: Implement spawn-worker.sh","description":"Script to spawn worker: docker run with --network=container:parent, Volume mounts for workspace/config/data, API key injection, Worker naming convention","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:41:34.481359-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:31:34.476149-08:00","closed_at":"2026-01-25T19:31:34.476149-08:00","close_reason":"Already complete: spawn-worker.sh created in Phase 1","dependencies":[{"issue_id":"hal-9000-f6t.2.4","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.482108-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.4","depends_on_id":"hal-9000-f6t.2.1","type":"blocks","created_at":"2026-01-25T18:43:04.215769-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.4","depends_on_id":"hal-9000-f6t.2.3","type":"blocks","created_at":"2026-01-25T18:43:04.264198-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.5","title":"P2-5: Implement destroy-worker.sh","description":"Clean worker destruction: docker rm -f, tmux window cleanup, Optional session data preservation","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":120,"created_at":"2026-01-25T18:41:34.545358-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:31:34.549426-08:00","closed_at":"2026-01-25T19:31:34.549426-08:00","close_reason":"Already complete: coordinator.sh stop/stop-all functions created in Phase 1","dependencies":[{"issue_id":"hal-9000-f6t.2.5","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.545928-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.5","depends_on_id":"hal-9000-f6t.2.4","type":"blocks","created_at":"2026-01-25T18:43:04.313178-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.6","title":"P2-6: Test MCP connectivity","description":"Verify: Worker can reach all 3 MCP servers via localhost, SSE connections stable, Health checks pass from worker perspective","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:41:34.608246-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:39:17.643591-08:00","closed_at":"2026-01-25T19:39:17.643591-08:00","close_reason":"Complete: All Phase 2 integration tests passing (11/11)","dependencies":[{"issue_id":"hal-9000-f6t.2.6","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.608846-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.6","depends_on_id":"hal-9000-f6t.2.4","type":"blocks","created_at":"2026-01-25T18:43:04.362691-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.2.7","title":"P2-7: Phase 2 Integration with parent","description":"Integration tests: Worker spawns successfully, Claude CLI operates normally, ChromaDB data visible, Memory Bank accessible","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:41:34.670857-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:39:17.667137-08:00","closed_at":"2026-01-25T19:39:17.667137-08:00","close_reason":"Complete: All Phase 2 integration tests passing (11/11)","dependencies":[{"issue_id":"hal-9000-f6t.2.7","depends_on_id":"hal-9000-f6t.2","type":"parent-child","created_at":"2026-01-25T18:41:34.671468-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.2.7","depends_on_id":"hal-9000-f6t.2.6","type":"blocks","created_at":"2026-01-25T18:43:04.410774-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3","title":"Phase 3: tmux Orchestration","description":"Implement multi-session management via tmux in parent.\n\n## Duration: 2 weeks\n## Blocks: Phase 2\n\n## Deliverables\n1. tmux.conf - tmux configuration for orchestration\n2. Session management scripts (create, attach, list, destroy)\n3. Dashboard display script\n4. Key binding documentation\n\n## Success Criteria\n- [ ] tmux windows created/destroyed with workers\n- [ ] User can switch between workers with Ctrl-B + number\n- [ ] Dashboard shows real-time worker status\n- [ ] Terminal I/O works correctly through tmux\n- [ ] Copy-paste functions across windows\n\n## Tasks (P3-1 through P3-7)\n- P3-1: Create tmux.conf (4h)\n- P3-2: Implement attach-worker.sh (4h)\n- P3-3: Implement show-workers.sh (2h)\n- P3-4: Implement tmux window lifecycle (8h)\n- P3-5: Create key binding documentation (2h)\n- P3-6: Multi-worker testing (8h)\n- P3-7: Terminal I/O stress testing (4h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-3-tmux-orchestration\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:37:14.237626-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:25.401954-08:00","closed_at":"2026-01-25T19:50:25.401954-08:00","close_reason":"Phase 3 complete: tmux orchestration validated with 16/16 integration tests passing","dependencies":[{"issue_id":"hal-9000-f6t.3","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:37:14.238375-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3","depends_on_id":"hal-9000-f6t.2","type":"blocks","created_at":"2026-01-25T18:38:08.324131-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.1","title":"P3-1: Create tmux.conf","description":"tmux configuration: history-limit 50000, mouse on, Status bar with HAL-9000 branding and worker count, Key bindings (C-n spawn, C-l list, C-d destroy), Split bindings","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:20.073572-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:20.926358-08:00","closed_at":"2026-01-25T19:50:20.926358-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.1","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.075954-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.2","title":"P3-2: Implement attach-worker.sh","description":"Attach terminal to worker: Find/create tmux window, docker attach to worker container, Handle window switching","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:20.13605-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:20.944815-08:00","closed_at":"2026-01-25T19:50:20.944815-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.2","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.13666-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.2","depends_on_id":"hal-9000-f6t.3.1","type":"blocks","created_at":"2026-01-25T18:44:11.16301-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.3","title":"P3-3: Implement show-workers.sh","description":"Dashboard display: List workers with docker ps, Show MCP server health status, Display memory/CPU usage","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":120,"created_at":"2026-01-25T18:42:20.20018-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:20.962535-08:00","closed_at":"2026-01-25T19:50:20.962535-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.3","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.200882-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.3","depends_on_id":"hal-9000-f6t.2.7","type":"blocks","created_at":"2026-01-25T18:44:11.207961-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.4","title":"P3-4: Implement tmux window lifecycle","description":"Window management: Create window on worker spawn, Destroy window on worker exit, Handle worker crashes, Automatic reconnection","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:20.267035-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:20.980554-08:00","closed_at":"2026-01-25T19:50:20.980554-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.4","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.267674-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.4","depends_on_id":"hal-9000-f6t.3.1","type":"blocks","created_at":"2026-01-25T18:44:11.256186-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.4","depends_on_id":"hal-9000-f6t.3.2","type":"blocks","created_at":"2026-01-25T18:44:11.302129-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.5","title":"P3-5: Create key binding documentation","description":"Document: All tmux key bindings, Worker management commands, Navigation shortcuts, Copy-paste instructions","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":120,"created_at":"2026-01-25T18:42:20.330556-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:20.998428-08:00","closed_at":"2026-01-25T19:50:20.998428-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.5","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.331184-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.5","depends_on_id":"hal-9000-f6t.3.4","type":"blocks","created_at":"2026-01-25T18:44:11.349998-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.6","title":"P3-6: Multi-worker testing","description":"Test: 3+ workers simultaneously, Switch between workers, No terminal corruption, Resource isolation","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:20.391158-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:21.016354-08:00","closed_at":"2026-01-25T19:50:21.016354-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.6","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.392018-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.6","depends_on_id":"hal-9000-f6t.3.4","type":"blocks","created_at":"2026-01-25T18:44:11.397651-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.3.7","title":"P3-7: Terminal I/O stress testing","description":"Test: Rapid input/output, Large output handling, Color/formatting preservation, No garbled characters","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:20.458891-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:50:21.0347-08:00","closed_at":"2026-01-25T19:50:21.0347-08:00","close_reason":"Complete: All Phase 3 integration tests passing (16/16)","dependencies":[{"issue_id":"hal-9000-f6t.3.7","depends_on_id":"hal-9000-f6t.3","type":"parent-child","created_at":"2026-01-25T18:42:20.459525-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.3.7","depends_on_id":"hal-9000-f6t.3.6","type":"blocks","created_at":"2026-01-25T18:44:11.444058-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4","title":"Phase 4: Shared Infrastructure","description":"Enable full data sharing between workers through parent's infrastructure.\n\n## Duration: 2 weeks\n## Blocks: Phase 3\n\n## Deliverables\n1. Volume layout documentation\n2. ChromaDB multi-tenant configuration\n3. Memory Bank project isolation\n4. Marketplace plugin mounting\n\n## Success Criteria\n- [ ] ChromaDB queries work from any worker\n- [ ] Memory Bank projects visible across workers\n- [ ] Config changes in parent propagate to workers\n- [ ] No data corruption under concurrent access\n- [ ] Marketplace plugins accessible from workers\n\n## Tasks (P4-1 through P4-7)\n- P4-1: Document volume architecture (2h)\n- P4-2: Implement volume creation script (4h)\n- P4-3: Configure ChromaDB for sharing (8h)\n- P4-4: Configure Memory Bank paths (4h)\n- P4-5: Test concurrent access (8h)\n- P4-6: Marketplace plugin mounting (8h)\n- P4-7: Data integrity validation (8h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-4-shared-infrastructure\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:37:16.210529-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:06.746419-08:00","closed_at":"2026-01-25T20:06:06.746419-08:00","close_reason":"Phase 4 complete: Shared infrastructure validated with 14/14 integration tests passing","dependencies":[{"issue_id":"hal-9000-f6t.4","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:37:16.211105-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4","depends_on_id":"hal-9000-f6t.3","type":"blocks","created_at":"2026-01-25T18:38:08.366136-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.1","title":"P4-1: Document volume architecture","description":"Document: Volume layout (chromadb, memory-bank, marketplace, config), Mount points for parent vs workers, Permission requirements","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":120,"created_at":"2026-01-25T18:42:24.024961-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.194055-08:00","closed_at":"2026-01-25T20:06:02.194055-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.1","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.025764-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.2","title":"P4-2: Implement volume creation script","description":"Script to create Docker named volumes: hal9000-chromadb, hal9000-memory-bank, hal9000-marketplace, hal9000-config","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:24.08557-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.210889-08:00","closed_at":"2026-01-25T20:06:02.210889-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.2","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.086131-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.2","depends_on_id":"hal-9000-f6t.4.1","type":"blocks","created_at":"2026-01-25T18:44:16.109638-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.3","title":"P4-3: Configure ChromaDB for sharing","description":"Multi-tenant ChromaDB: Collection naming conventions, Shared vs worker-specific collections, Access patterns from multiple workers","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:24.153462-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.227341-08:00","closed_at":"2026-01-25T20:06:02.227341-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.3","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.154017-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.3","depends_on_id":"hal-9000-f6t.4.2","type":"blocks","created_at":"2026-01-25T18:44:16.156993-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.4","title":"P4-4: Configure Memory Bank paths","description":"Memory Bank isolation: _global/ for cross-project, {project}_active/ per worker, archive/ for completed sessions","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:24.217375-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.24496-08:00","closed_at":"2026-01-25T20:06:02.24496-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.4","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.218728-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.4","depends_on_id":"hal-9000-f6t.4.2","type":"blocks","created_at":"2026-01-25T18:44:16.20346-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.5","title":"P4-5: Test concurrent access","description":"Concurrent access tests: Multiple workers writing to ChromaDB, Memory Bank race conditions, File locking behavior","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:24.284276-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.262426-08:00","closed_at":"2026-01-25T20:06:02.262426-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.5","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.284881-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.5","depends_on_id":"hal-9000-f6t.4.3","type":"blocks","created_at":"2026-01-25T18:44:16.24904-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.5","depends_on_id":"hal-9000-f6t.4.4","type":"blocks","created_at":"2026-01-25T18:44:16.297477-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.6","title":"P4-6: Marketplace plugin mounting","description":"Mount marketplace plugins: Volume mount to workers, Plugin discovery mechanism, Path configuration in Claude","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:24.346702-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.281174-08:00","closed_at":"2026-01-25T20:06:02.281174-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.6","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.347383-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.6","depends_on_id":"hal-9000-f6t.4.2","type":"blocks","created_at":"2026-01-25T18:44:16.344829-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.4.7","title":"P4-7: Data integrity validation","description":"Validate: No data corruption under load, Transaction isolation, Recovery from failures","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:24.411632-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:06:02.299723-08:00","closed_at":"2026-01-25T20:06:02.299723-08:00","close_reason":"Complete: All Phase 4 integration tests passing (14/14)","dependencies":[{"issue_id":"hal-9000-f6t.4.7","depends_on_id":"hal-9000-f6t.4","type":"parent-child","created_at":"2026-01-25T18:42:24.412196-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.7","depends_on_id":"hal-9000-f6t.4.5","type":"blocks","created_at":"2026-01-25T18:44:16.390268-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.4.7","depends_on_id":"hal-9000-f6t.4.6","type":"blocks","created_at":"2026-01-25T18:44:16.43559-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5","title":"Phase 5: Integration and Migration","description":"Update claudy CLI and provide migration path from v0.5.0.\n\n## Duration: 2 weeks\n## Blocks: Phase 4\n\n## Deliverables\n1. Updated claudy script with DinD support\n2. claudy daemon subcommand for parent management\n3. Migration script for existing users\n4. Backward compatibility layer\n\n## Success Criteria\n- [ ] All v0.5.0 commands work with new architecture\n- [ ] Migration script successfully moves data\n- [ ] Rollback possible via backup\n- [ ] --legacy flag works for single-container mode\n- [ ] No user-facing breaking changes\n\n## Tasks (P5-1 through P5-7)\n- P5-1: Update claudy with daemon subcommand (8h)\n- P5-2: Implement worker-via-parent launch (8h)\n- P5-3: Create migration script (8h)\n- P5-4: Implement backward compatibility (4h)\n- P5-5: Create rollback mechanism (4h)\n- P5-6: End-to-end migration testing (8h)\n- P5-7: Documentation update (4h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-5-integration-and-migration\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:37:18.538643-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:09:26.293034-08:00","closed_at":"2026-01-26T00:09:26.293034-08:00","close_reason":"Phase 5 complete: daemon commands, via-parent, migration, rollback, backward compat, e2e tests, docs","dependencies":[{"issue_id":"hal-9000-f6t.5","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:37:18.539343-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5","depends_on_id":"hal-9000-f6t.4","type":"blocks","created_at":"2026-01-25T18:38:08.409009-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.1","title":"P5-1: Update claudy with daemon subcommand","description":"Add daemon commands: claudy daemon start, claudy daemon stop, claudy daemon status. Manage parent container lifecycle.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:28.719499-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:47:09.264232-08:00","closed_at":"2026-01-25T20:47:09.264232-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-f6t.5.1","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:28.720044-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.2","title":"P5-2: Implement worker-via-parent launch","description":"Update claudy to: Auto-start parent if not running, Spawn workers through parent orchestrator, Handle worker lifecycle","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:28.783401-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T20:58:16.219255-08:00","closed_at":"2026-01-25T20:58:16.219255-08:00","close_reason":"Implemented --via-parent flag with full test coverage (7/7 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.5.2","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:28.784174-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.2","depends_on_id":"hal-9000-f6t.5.1","type":"blocks","created_at":"2026-01-25T18:44:19.113381-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.3","title":"P5-3: Create migration script","description":"migrate-to-dind.sh: Backup existing v0.5.0 data, Copy config to container volumes, Migrate ChromaDB/Memory Bank, Verify migration success","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:28.850669-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T21:09:39.386834-08:00","closed_at":"2026-01-25T21:09:39.386834-08:00","close_reason":"Created migrate-to-dind.sh with dry-run, backup, volume creation, data migration, verification (11/11 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.5.3","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:28.851386-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.3","depends_on_id":"hal-9000-f6t.5.1","type":"blocks","created_at":"2026-01-25T18:44:19.161192-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.4","title":"P5-4: Implement backward compatibility","description":"Add --legacy flag: Force single-container mode, Warning about deprecation, Same behavior as v0.5.0","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:28.914342-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T21:11:16.83058-08:00","closed_at":"2026-01-25T21:11:16.83058-08:00","close_reason":"Added --legacy flag with deprecation warning (7/7 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.5.4","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:28.914957-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.4","depends_on_id":"hal-9000-f6t.5.2","type":"blocks","created_at":"2026-01-25T18:44:19.21011-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.5","title":"P5-5: Create rollback mechanism","description":"Rollback script: Restore from backup, Revert to v0.5.0 behavior, Data recovery options","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:28.978288-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T21:14:12.11349-08:00","closed_at":"2026-01-25T21:14:12.11349-08:00","close_reason":"Created rollback-dind.sh with backup listing, restore, volume export (8/8 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.5.5","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:28.978988-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.5","depends_on_id":"hal-9000-f6t.5.3","type":"blocks","created_at":"2026-01-25T18:44:19.258934-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.6","title":"P5-6: End-to-end migration testing","description":"Test: Fresh install path, Upgrade from v0.5.0, Data preservation, Rollback functionality","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:29.037372-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:08:24.374177-08:00","closed_at":"2026-01-26T00:08:24.374177-08:00","close_reason":"E2E migration testing complete: fresh install, upgrade, data preservation, rollback (18/18 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.5.6","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:29.037945-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.6","depends_on_id":"hal-9000-f6t.5.3","type":"blocks","created_at":"2026-01-25T18:44:19.307206-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.6","depends_on_id":"hal-9000-f6t.5.4","type":"blocks","created_at":"2026-01-25T18:44:19.356021-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.5.7","title":"P5-7: Phase 5 Documentation update","description":"Update docs: New claudy commands, Migration guide, Upgrade instructions, Rollback procedures","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:29.100417-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:09:26.019131-08:00","closed_at":"2026-01-26T00:09:26.019131-08:00","close_reason":"Updated README-dind.md with claudy daemon docs and README-CLAUDY.md with DinD mode section","dependencies":[{"issue_id":"hal-9000-f6t.5.7","depends_on_id":"hal-9000-f6t.5","type":"parent-child","created_at":"2026-01-25T18:42:29.101131-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.5.7","depends_on_id":"hal-9000-f6t.5.6","type":"blocks","created_at":"2026-01-25T18:44:19.401448-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6","title":"Phase 6: Optimization and Polish","description":"Optimize performance, add worker pool, and finalize documentation.\n\n## Duration: 2 weeks\n## Blocks: Phase 5\n\n## Deliverables\n1. Worker pool implementation\n2. Lazy-loading optimizations\n3. Performance benchmarks\n4. Complete user documentation\n5. Troubleshooting guide\n\n## Success Criteria\n- [ ] Worker warm start \u003c 2 seconds\n- [ ] Worker pool maintains minimum warm workers\n- [ ] Idle workers cleaned up automatically\n- [ ] Documentation covers all use cases\n- [ ] No regressions from v0.5.0\n\n## Tasks (P6-1 through P6-7)\n- P6-1: Implement pool-manager.sh (8h)\n- P6-2: Add resource limits to workers (4h)\n- P6-3: Performance benchmarking (8h)\n- P6-4: Optimize startup sequence (8h)\n- P6-5: Write user documentation (8h)\n- P6-6: Write troubleshooting guide (4h)\n- P6-7: Final integration testing (8h)\n\nContext: .pm/plans/dind-orchestration-plan.md#phase-6-optimization-and-polish\n","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:37:22.658976-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T05:47:39.461733-08:00","closed_at":"2026-01-26T05:47:39.461733-08:00","close_reason":"Phase 6 complete: pool-manager.sh implemented, resource limits added, benchmarks created, startup optimized, documentation complete (7 docs), troubleshooting guide written, all integration tests pass","dependencies":[{"issue_id":"hal-9000-f6t.6","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:37:22.659653-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6","depends_on_id":"hal-9000-f6t.5","type":"blocks","created_at":"2026-01-25T18:38:08.452343-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.1","title":"P6-1: Implement pool-manager.sh","description":"Worker pool daemon: Maintain min_warm workers, Clean up idle workers after timeout, Resource monitoring and limits","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:35.306516-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:32:41.354511-08:00","closed_at":"2026-01-26T00:32:41.354511-08:00","close_reason":"Implemented pool-manager.sh with start/stop/status/scale/cleanup/warm commands, integrated with claudy and parent-entrypoint (13/13 tests pass)","dependencies":[{"issue_id":"hal-9000-f6t.6.1","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.307179-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.2","title":"P6-2: Add resource limits to workers","description":"Configure per-worker limits: --memory 4G, --cpus 2, --pids-limit 100. Prevent runaway processes.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:35.372815-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:44:02.948058-08:00","closed_at":"2026-01-26T00:44:02.948058-08:00","close_reason":"Implemented resource limits: --memory 4g, --cpus 2, --pids-limit 100 defaults with CLI/env overrides. 16 tests passing.","dependencies":[{"issue_id":"hal-9000-f6t.6.2","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.373448-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.2","depends_on_id":"hal-9000-f6t.6.1","type":"blocks","created_at":"2026-01-25T18:44:21.370175-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.3","title":"P6-3: Performance benchmarking","description":"Measure: Cold start time (target \u003c5s), Warm start time (target \u003c2s), MCP response time (\u003c100ms), Memory overhead (\u003c500MB)","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:35.437958-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T00:48:36.836935-08:00","closed_at":"2026-01-26T00:48:36.836935-08:00","close_reason":"Created benchmark-dind.sh with cold/warm start, memory, network, and image size measurements. Targets: cold \u003c5s, warm \u003c2s, memory \u003c500MB, network \u003c100ms.","dependencies":[{"issue_id":"hal-9000-f6t.6.3","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.438642-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.3","depends_on_id":"hal-9000-f6t.6.1","type":"blocks","created_at":"2026-01-25T18:44:21.418782-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.4","title":"P6-4: Optimize startup sequence","description":"Optimization: Parallel MCP server startup, Lazy loading where possible, Image layer optimization, Pre-warming strategy","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:35.501997-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T03:19:44.014591-08:00","closed_at":"2026-01-26T03:19:44.014591-08:00","close_reason":"Implemented parallel startup: async ChromaDB, lazy/skip image pull options, startup timing logs. Documented pre-warming strategy.","dependencies":[{"issue_id":"hal-9000-f6t.6.4","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.502722-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.4","depends_on_id":"hal-9000-f6t.6.3","type":"blocks","created_at":"2026-01-25T18:44:21.467311-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.5","title":"P6-5: Write user documentation","description":"Create docs/: README.md overview, installation.md, configuration.md, migration.md, architecture.md, development.md","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:35.566348-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T03:23:38.700431-08:00","closed_at":"2026-01-26T03:23:38.700431-08:00","close_reason":"Created comprehensive DinD documentation: README.md (overview), INSTALLATION.md, CONFIGURATION.md, ARCHITECTURE.md, MIGRATION.md, DEVELOPMENT.md","dependencies":[{"issue_id":"hal-9000-f6t.6.5","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.566934-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.5","depends_on_id":"hal-9000-f6t.6.4","type":"blocks","created_at":"2026-01-25T18:44:21.513362-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.6","title":"P6-6: Write troubleshooting guide","description":"troubleshooting.md: Common errors, Network issues, Volume permissions, MCP server failures, Recovery procedures","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:42:35.627182-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T03:24:57.258646-08:00","closed_at":"2026-01-26T03:24:57.258646-08:00","close_reason":"Created comprehensive troubleshooting guide with common errors, network issues, volume permissions, pool manager issues, and recovery procedures","dependencies":[{"issue_id":"hal-9000-f6t.6.6","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.630058-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.6","depends_on_id":"hal-9000-f6t.6.5","type":"blocks","created_at":"2026-01-25T18:44:21.561212-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.6.7","title":"P6-7: Final integration testing","description":"Final validation: All performance targets met, No regressions from v0.5.0, Documentation complete, Ready for release","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:42:35.69068-08:00","created_by":"Hellblazer","updated_at":"2026-01-26T05:47:33.944637-08:00","closed_at":"2026-01-26T05:47:33.944637-08:00","close_reason":"Final integration testing complete: 29 DinD tests pass, all scripts executable, 7 documentation files present, 10 Dockerfiles valid, phase integration tests in place","dependencies":[{"issue_id":"hal-9000-f6t.6.7","depends_on_id":"hal-9000-f6t.6","type":"parent-child","created_at":"2026-01-25T18:42:35.691368-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.7","depends_on_id":"hal-9000-f6t.6.4","type":"blocks","created_at":"2026-01-25T18:44:21.609598-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.7","depends_on_id":"hal-9000-f6t.6.5","type":"blocks","created_at":"2026-01-25T18:44:21.655828-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.6.7","depends_on_id":"hal-9000-f6t.6.6","type":"blocks","created_at":"2026-01-25T18:44:21.701518-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.7","title":"Phase 0: Validation Spikes","description":"Pre-implementation validation to de-risk critical assumptions.\n\n## Duration: 1 week\n## MUST COMPLETE BEFORE Phase 1\n\nThis phase validates the core technical assumptions before committing to full implementation.\n\n## Critical Questions to Answer\n\n1. **MCP Transport**: Do memory-bank-mcp, sequential-thinking, chroma-mcp support Streamable HTTP?\n   - If NO: Can we build HTTP-to-stdio proxy?\n   - If NO: Is there an alternative architecture?\n\n2. **Network Namespace**: Does `--network=container:parent` work reliably for MCP connections?\n\n3. **Image Size**: What's the minimum achievable worker image size?\n\n4. **Existing Infrastructure**: How to best integrate with existing hal9000.sh squad mode?\n\n## Success Criteria\n- [ ] MCP transport mechanism validated or alternative identified\n- [ ] Network namespace PoC working\n- [ ] Worker image prototype built and measured\n- [ ] Integration approach with hal9000.sh documented\n\n## Go/No-Go Gate\nIf validation fails, reassess architecture before proceeding to Phase 1.\n\nContext: Plan auditor recommendation - CONDITIONAL GO pending Phase 0\n","status":"closed","priority":0,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-25T18:51:09.477082-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:11:11.815-08:00","closed_at":"2026-01-25T19:11:11.815-08:00","close_reason":"Phase 0 complete. MODIFIED GO: MCP on host, workers in containers. See .pm/spikes/p0-go-no-go-decision.md","dependencies":[{"issue_id":"hal-9000-f6t.7","depends_on_id":"hal-9000-f6t","type":"parent-child","created_at":"2026-01-25T18:51:09.477911-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.7.1","title":"P0-1: Research MCP Streamable HTTP support","description":"Research all three MCP servers for HTTP transport support: memory-bank-mcp, sequential-thinking, chroma-mcp. Check documentation, source code, GitHub issues. Document findings with evidence.","status":"closed","priority":0,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":360,"created_at":"2026-01-25T18:51:39.706816-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:10:14.928437-08:00","closed_at":"2026-01-25T19:10:14.928437-08:00","close_reason":"Completed: NO-GO for HTTP transport. All MCP servers use stdio only.","dependencies":[{"issue_id":"hal-9000-f6t.7.1","depends_on_id":"hal-9000-f6t.7","type":"parent-child","created_at":"2026-01-25T18:51:39.707528-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.7.2","title":"P0-2: Build HTTP-to-stdio proxy prototype","description":"If MCP servers don't support HTTP: Build prototype proxy (Flask/FastAPI) that wraps stdio MCP in HTTP. Test with one MCP server. Document approach if successful.","status":"closed","priority":0,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":480,"created_at":"2026-01-25T18:51:39.772318-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:10:15.262773-08:00","closed_at":"2026-01-25T19:10:15.262773-08:00","close_reason":"Not needed: P0-1 found no viable HTTP transport. Proxy development not required.","dependencies":[{"issue_id":"hal-9000-f6t.7.2","depends_on_id":"hal-9000-f6t.7","type":"parent-child","created_at":"2026-01-25T18:51:39.772996-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-f6t.7.2","depends_on_id":"hal-9000-f6t.7.1","type":"blocks","created_at":"2026-01-25T18:52:26.411082-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.7.3","title":"P0-3: Network namespace sharing PoC","description":"Proof of concept: Parent container with simple HTTP server. Worker with --network=container:parent. Verify localhost connectivity. Document any gotchas.","status":"closed","priority":0,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:51:39.833687-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:10:15.037193-08:00","closed_at":"2026-01-25T19:10:15.037193-08:00","close_reason":"Completed: GO. Network namespace sharing validated - --network=container:parent works.","dependencies":[{"issue_id":"hal-9000-f6t.7.3","depends_on_id":"hal-9000-f6t.7","type":"parent-child","created_at":"2026-01-25T18:51:39.834342-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-f6t.7.4","title":"P0-4: Minimal worker image prototype","description":"Build minimal worker Dockerfile: debian:bookworm-slim + Claude CLI only. Measure image size. Target: \u003c500MB (revised from 300MB). Document optimization opportunities.","status":"closed","priority":0,"issue_type":"task","owner":"hellblazer@me.com","estimated_minutes":240,"created_at":"2026-01-25T18:51:39.897651-08:00","created_by":"Hellblazer","updated_at":"2026-01-25T19:10:15.153145-08:00","closed_at":"2026-01-25T19:10:15.153145-08:00","close_reason":"Completed: GO. Worker image 469MB without git (under 500MB target).","dependencies":[{"issue_id":"hal-9000-f6t.7.4","depends_on_id":"hal-9000-f6t.7","type":"parent-child","created_at":"2026-01-25T18:51:39.89821-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-fy4","title":"Phase 0: Fix TMUX socket permissions (0777 to 0770)","description":"SECURITY CRITICAL\n\nFiles:\n- plugins/hal-9000/docker/worker-entrypoint.sh (L259-260)\n- plugins/hal-9000/docker/parent-entrypoint.sh (L48-49, L79-80)\n- plugins/hal-9000/docker/coordinator.sh (L138-139)\n\nCurrent Problem:\n- TMUX socket directory uses chmod 0777 (world-writable)\n- Any process can access worker sessions\n\nFix:\n1. Create common group 'hal9000' (GID 1001) in Dockerfiles\n2. Change chmod 0777 to chmod 0770 in all locations\n3. Add chgrp hal9000 for socket directory\n4. Optionally: Add TMUX_SOCKET_MODE env var for customization\n\nRisk Mitigation:\n- Test multi-container access before merging\n- Document migration path in SECURITY.md\n- Keep 0777 as fallback option with warning\n\nSuccess Criteria:\n- chmod 0770 in all locations\n- Workers and parent can still communicate\n- External processes without group cannot access\n\nEffort: 2-3 hours (testing required)","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:31:50.924628-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T03:44:11.228685-08:00","closed_at":"2026-01-31T03:44:11.228685-08:00","close_reason":"All socket permission security elements implemented and verified: chmod 0770 in all locations, chgrp hal9000 set, hal9000 groups created in both parent (GID 1001) and worker (GID 1002) Dockerfiles."}
{"id":"hal-9000-gph","title":"Test Category 13: Performance \u0026 Resource Usage","description":"Implement 11 tests for startup performance, memory/CPU usage, and scaling limits. Reference: section 13. Tests PERF-001 to PERF-011. Optional but valuable.","status":"open","priority":3,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.624703-08:00","created_by":"Hellblazer","updated_at":"2026-01-27T17:26:23.624703-08:00","dependencies":[{"issue_id":"hal-9000-gph","depends_on_id":"hal-9000-17s","type":"blocks","created_at":"2026-01-27T17:26:38.393748-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-h1b","title":"Update security test suite for new fixes","description":"Extend test-security-fixes.sh to cover all new security fixes: TOCTOU, user mismatch, image validation, resource limits, path allowlist, file permissions, credential warnings. Ensure 100% pass rate before release.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:36.288238-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:37:23.245218-08:00","closed_at":"2026-01-30T17:37:23.245218-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-h1b","depends_on_id":"hal-9000-dhw","type":"blocks","created_at":"2026-01-30T09:18:56.617144-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-h1b","depends_on_id":"hal-9000-8j7","type":"blocks","created_at":"2026-01-30T09:18:56.73485-08:00","created_by":"Hellblazer"},{"issue_id":"hal-9000-h1b","depends_on_id":"hal-9000-4vx","type":"blocks","created_at":"2026-01-30T09:18:56.855361-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-h4i","title":"Create digest update automation","description":"After pinning digests, need process to update them. Create script/CI job to check for base image updates, create automated PR when updates available. Consider Dependabot or Renovate integration for security advisories.","status":"closed","priority":2,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:48.042929-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:15:42.034558-08:00","closed_at":"2026-01-31T05:15:42.034558-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-h4i","depends_on_id":"hal-9000-dot","type":"blocks","created_at":"2026-01-30T09:18:56.497589-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-im6","title":"Documentation: Test Execution Guide","description":"Create TESTING.md with setup instructions, test categories, how to run locally, CI integration, and troubleshooting. Acceptance: Guide is complete and validated.","status":"open","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:24.167158-08:00","created_by":"Hellblazer","updated_at":"2026-01-27T17:26:24.167158-08:00","dependencies":[{"issue_id":"hal-9000-im6","depends_on_id":"hal-9000-8t5","type":"blocks","created_at":"2026-01-27T17:26:38.738614-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-lms","title":"Phase 3: Add error handling with retry and circuit breakers","description":"Resilience Improvement\n\nFiles:\n- plugins/hal-9000/docker/coordinator.sh\n- plugins/hal-9000/docker/worker-entrypoint.sh\n- plugins/hal-9000/docker/parent-entrypoint.sh\n\nCurrent Problem:\n- Services fail immediately on transient errors\n- No retry logic for ChromaDB, Docker operations\n- No circuit breaker to prevent cascading failures\n\nFix:\n1. Add retry_with_backoff() function:\n   - Max 3 retries\n   - Exponential backoff (1s, 2s, 4s)\n   - Log each retry attempt\n\n2. Add circuit_breaker() wrapper:\n   - Track failure count\n   - Open circuit after 5 failures\n   - Half-open after 30s\n   - Reset on success\n\n3. Add cleanup trap handlers:\n   - trap cleanup_on_exit SIGTERM SIGINT EXIT\n   - Clean up temporary files\n   - Stop background processes\n\nSuccess Criteria:\n- retry_with_backoff() handles transient failures\n- Circuit breaker prevents flood of retries\n- Graceful shutdown on SIGTERM\n- Detailed logging for debugging\n\nEffort: 4 hours\n\nDependencies: Phase 2 (ChromaDB DNS) should be complete first","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:34.70737-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:13:45.909221-08:00","closed_at":"2026-01-31T04:13:45.909221-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-lms","depends_on_id":"hal-9000-dq6","type":"blocks","created_at":"2026-01-30T23:33:19.458914-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-luf","title":"Test Category 4: Session Management","description":"Implement 27 tests for session creation, listing, attaching, killing, and state recovery. Reference: section 4. Tests SESS-001 to SESS-027. Includes session naming, hashing, lifecycle.","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:22.354319-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T06:14:08.601039-08:00","closed_at":"2026-01-31T06:14:08.601039-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-luf","depends_on_id":"hal-9000-ddl","type":"blocks","created_at":"2026-01-27T17:26:37.706369-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-nwo","title":"Phase 1: Update session persistence documentation","description":"Documentation Alignment\n\nFiles:\n- README.md\n- plugins/hal-9000/README.md\n- plugins/hal-9000/docs/dind/README.md\n- plugins/hal-9000/docker/VOLUME-ARCHITECTURE.md\n\nCurrent Problem:\n- Documentation may overstate 'container session persistence'\n- Reality: state persists in TMUX process, not across container restarts\n\nFix:\n1. Audit all docs for 'session persist' language\n2. Update to clearly state: 'state persists in TMUX process'\n3. Add note: 'Use Memory Bank MCP for cross-session persistence'\n4. Ensure VOLUME-ARCHITECTURE.md accurately describes what persists where\n\nSuccess Criteria:\n- No misleading claims about container session persistence\n- Clear explanation of TMUX-based persistence\n- Memory Bank documented as cross-session solution\n\nEffort: 1.5 hours","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:31:58.615329-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:33:56.792414-08:00","closed_at":"2026-01-31T04:33:56.792414-08:00","close_reason":"Closed"}
{"id":"hal-9000-o5y","title":"Phase 4: Add startup benchmarks with assertions","description":"Performance Validation\n\nFiles:\n- scripts/tests/test-startup-benchmarks.sh (NEW)\n- plugins/hal-9000/docker/parent-entrypoint.sh (already has timing)\n\nCurrent Problem:\n- Performance claims in docs not validated by tests\n- No automated benchmark to detect regressions\n\nFix:\n1. Create test-startup-benchmarks.sh:\n   - Measure: parent startup time (target: \u003c5s)\n   - Measure: worker startup time (target: \u003c3s)\n   - Measure: time to first Claude response (target: \u003c10s)\n   - Assert against documented targets\n   - Report actual times for comparison\n\n2. Add environment for consistent measurement:\n   - Pre-pull images\n   - Warm cache\n   - Run multiple iterations, report average\n\n3. Integrate with CI (optional):\n   - Run benchmarks as non-blocking job\n   - Report results in summary\n\nSuccess Criteria:\n- Benchmark script exists and runs\n- Measures key startup metrics\n- Asserts against documented claims\n\nEffort: 2 hours","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:33:02.700145-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:54:15.294545-08:00","closed_at":"2026-01-31T04:54:15.294545-08:00","close_reason":"Already implemented - test-startup-benchmarks.sh exists at plugins/hal-9000/docker/ with benchmarks for: first launch (\u003c10s), warm pool (\u003c2s), session list (\u003c1s), memory (\u003c500MB), disk (\u003c1GB). Validates performance claims against documented targets. CI integration optional and not required."}
{"id":"hal-9000-ope","title":"Phase 2: Add parent container resource limits","description":"Infrastructure Improvement\n\nFiles:\n- plugins/hal-9000/hal9000/hal9000.sh (or wherever parent is launched)\n- plugins/hal-9000/docker/spawn-worker.sh\n- README-HAL9000.md\n\nCurrent Problem:\n- Parent container may not have resource limits\n- Could consume all host resources\n\nFix:\n1. Add --memory and --cpus to parent container launch\n2. Default: 4g memory, 2 CPUs (or configurable via env)\n3. Add HAL9000_PARENT_MEMORY, HAL9000_PARENT_CPUS env vars\n4. Document defaults in README-HAL9000.md\n\nSuccess Criteria:\n- docker inspect shows resource limits on parent\n- Limits configurable via environment\n- Documented in README\n\nEffort: 1 hour","status":"closed","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:25.160023-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:50:20.642238-08:00","closed_at":"2026-01-31T04:50:20.642238-08:00","close_reason":"Closed"}
{"id":"hal-9000-pbi","title":"Integrate Tests into CI/CD Pipeline","description":"Add comprehensive test suite to GitHub Actions. Runs on: PR creation, pre-commit, release. Acceptance: GitHub Actions workflow passes all tests.","status":"open","priority":2,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:24.034242-08:00","created_by":"Hellblazer","updated_at":"2026-01-27T17:26:24.034242-08:00","dependencies":[{"issue_id":"hal-9000-pbi","depends_on_id":"hal-9000-8t5","type":"blocks","created_at":"2026-01-27T17:26:38.607357-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-rn3","title":"Add chmod 600 to session files","description":"hal9000.sh, spawn-worker.sh, and aod.sh create session files with default permissions. Other users can read session state which may include sensitive info. Add chmod 600 after creating session files in all scripts.","status":"closed","priority":1,"issue_type":"bug","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:36.043039-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T14:44:44.305686-08:00","closed_at":"2026-01-30T14:44:44.305686-08:00","close_reason":"Closed"}
{"id":"hal-9000-rrl","title":"Add resource limits to aod.sh","description":"aod.sh lacks resource limits unlike spawn-worker.sh. Add --memory, --cpus, --pids-limit flags with configurable defaults via environment variables (AOD_MEMORY, AOD_CPUS, AOD_PIDS_LIMIT). Prevents DoS via resource exhaustion.","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:35.535784-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:36:49.123698-08:00","closed_at":"2026-01-30T17:36:49.123698-08:00","close_reason":"Closed"}
{"id":"hal-9000-t7b","title":"Test Category 1: Help \u0026 Version Commands","description":"Implement 8 tests for help output, version strings, and diagnostic information. Reference: HAL9000_TEST_PLAN.md section 1. Acceptance: All 8 tests (INFO-001 to INFO-008) pass","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:21.954579-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:20:43.858148-08:00","closed_at":"2026-01-31T05:20:43.858148-08:00","close_reason":"Closed"}
{"id":"hal-9000-v7z","title":"Phase 4: Add Phase 2 tests to CI pipeline","description":"Testing Infrastructure\n\nFiles:\n- .github/workflows/integration-test.yml\n\nCurrent Problem:\n- Phase 2 (Docker image tests) skipped in CI (line 166)\n- Comment says 'local Docker required' but docker-build-test job builds images\n\nFix:\n1. Add new job 'phase2-docker-tests' after docker-build-test\n2. Use the built image from docker-build-test job\n3. Run plugins/hal-9000/docker/test-phase2-session-lifecycle.sh\n4. Add to test summary\n\nWorkflow structure:\n  docker-build-test  phase2-docker-tests  test-summary\n\nSuccess Criteria:\n- Phase 2 tests run in CI\n- Tests pass with built images\n- Summary includes Phase 2 results\n\nEffort: 2 hours","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-30T23:32:47.186554-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T04:21:20.35234-08:00","closed_at":"2026-01-31T04:21:20.35234-08:00","close_reason":"Already completed in commit c68eacf - Phase 2 Docker integration tests are running in CI pipeline at lines 150-155 of integration-test.yml","dependencies":[{"issue_id":"hal-9000-v7z","depends_on_id":"hal-9000-3fj","type":"blocks","created_at":"2026-01-30T23:33:19.630296-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-wdq","title":"HAL-9000 Security Remediation","status":"closed","priority":0,"issue_type":"epic","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:07.186369-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:37:35.964966-08:00","closed_at":"2026-01-30T17:37:35.964966-08:00","close_reason":"Closed"}
{"id":"hal-9000-xa1","title":"Test Category 10: Error Handling \u0026 Edge Cases","description":"Implement 20 tests for missing prerequisites, invalid input, state errors, timeouts, and resource limits. Reference: section 10. Tests ERR-001 to ERR-020. Critical for robustness.","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-27T17:26:23.178065-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T05:59:11.184716-08:00","closed_at":"2026-01-31T05:59:11.184716-08:00","close_reason":"Closed"}
{"id":"hal-9000-y1k","title":"Create and test seccomp profiles","description":"No seccomp profiles in container launch scripts - full syscall access. Create custom seccomp profile for worker containers blocking dangerous syscalls. Test thoroughly to ensure Claude CLI and MCP servers function correctly. Consider audit mode first.","status":"closed","priority":2,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:47.65521-08:00","created_by":"Hellblazer","updated_at":"2026-01-31T06:43:38.830147-08:00","closed_at":"2026-01-31T06:43:38.830147-08:00","close_reason":"Closed","dependencies":[{"issue_id":"hal-9000-y1k","depends_on_id":"hal-9000-h1b","type":"blocks","created_at":"2026-01-30T09:18:56.253065-08:00","created_by":"Hellblazer"}]}
{"id":"hal-9000-zpy","title":"Add resource limits to hal9000.sh","description":"hal9000.sh lacks resource limits unlike spawn-worker.sh. Add --memory, --cpus, --pids-limit flags with configurable defaults via environment variables (HAL9000_MEMORY, HAL9000_CPUS, HAL9000_PIDS_LIMIT). Prevents DoS via resource exhaustion.","status":"closed","priority":1,"issue_type":"feature","owner":"hellblazer@me.com","created_at":"2026-01-30T09:18:35.665268-08:00","created_by":"Hellblazer","updated_at":"2026-01-30T17:36:49.125641-08:00","closed_at":"2026-01-30T17:36:49.125641-08:00","close_reason":"Closed"}
